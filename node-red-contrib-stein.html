<script type="text/javascript">
  RED.nodes.registerType('stein-config', {
    category: 'config',
    defaults: {
      name: { value: "" }
    },
    label: function () {
      return this.name || "stein";
    },
    credentials: {
      apiurl: { type: "text" }
    }
  });
</script>

<script type="text/x-red" data-template-name="stein-config">

  <div class="form-row">
    <label for="node-config-input-name"><i class="icon-tag"></i> API Name</label>
    <input type="text" id="node-config-input-name" placeholder="Name">
  </div>

  <div class="form-row">
    <label for="node-config-input-apiurl"><i class="icon-tag"></i> API URL</label>
    <input type="text" id="node-config-input-apiurl">
  </div>

</script>

<script type="text/javascript">
  RED.nodes.registerType('stein-get', {
    category: 'function',
    color: '#E9967A',
    defaults: {
      name: { value: "" },
      sheet: { value: "" },
      apiurl: { value: "", type: "stein-config" }
    },
    inputs: 1,
    outputs: 1,
    icon: "font-awesome/fa-arrow-right",
    label: function () {
      return this.name || "stein get";
    }
  });
</script>

<script type="text/x-red" data-template-name="stein-get">

  <div class="form-row">
    <label for="node-input-apiurl"><i class="icon-tag"></i> API URL</label>
    <input type="text" id="node-input-apiurl">
  </div>

  <div class="form-row">
    <label for="node-input-sheet"><i class="icon-tag"></i> Sheet Name</label>
    <input type="text" id="node-input-sheet" placeholder="Sheet">
  </div>
  
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
  </script>

<script type="text/x-red" data-help-name="stein-get">
  <p>Read Data from Sheet.</p>

  <h3>Inputs</h3>
    <dl class="message-properties">
      <dt class="optional">sheet <span class="property-type">string</span></dt>
      <dd> The target sheet name.  (optional data)</dd>
    </dl>

    <dl class="message-properties">
      <dt class="optional">limit <span class="property-type">number</span></dt>
      <dd> Maximum number of rows to be returned.  (optional data)</dd>
    </dl>

    <dl class="message-properties">
      <dt class="optional">offset <span class="property-type">number</span></dt>
      <dd> Index of row from which response should start (default is 0).  (optional data)</dd>
    </dl>

  <h3>Outputs</h3>
    <dl class="message-properties">
      <dt>payload
          <span class="property-type">array</span>
      </dt>
      <dd> The data retrieved from the Stein read API.</dd>
    </dl>

  <h3>References</h3>
    <ul>
        <li><a href="https://docs.steinhq.com/read-data" target="_blank">Read Data from Sheet</a> - Stein Docs</li>
    </ul>
</script>

<script type="text/javascript">
  RED.nodes.registerType('stein-search', {
    category: 'function',
    color: '#E9967A',
    defaults: {
      name: { value: "" },
      sheet: { value: "" },
      apiurl: { value: "", type: "stein-config" }
    },
    inputs: 1,
    outputs: 1,
    icon: "font-awesome/fa-search",
    label: function () {
      return this.name || "stein search";
    }
  });
</script>

<script type="text/x-red" data-template-name="stein-search">

  <div class="form-row">
    <label for="node-input-apiurl"><i class="icon-tag"></i> API URL</label>
    <input type="text" id="node-input-apiurl">
  </div>

  <div class="form-row">
    <label for="node-input-sheet"><i class="icon-tag"></i> Sheet Name</label>
    <input type="text" id="node-input-sheet" placeholder="Sheet">
  </div>

  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
  </script>

<script type="text/x-red" data-help-name="stein-search">
  <p>Search for Data.</p>

  <h3>Inputs</h3>
    <dl class="message-properties">
      <dt>payload <span class="property-type">object</span></dt>
      <dd> The object data from your search option as <code>{column: value, ...}</code>. Refer to <a href="https://docs.steinhq.com/search-data" target="_blank">Search for Data</a> when you you would like to know the detail of search param. </dd>
    </dl>
    
    <dl class="message-properties">
      <dt class="optional">sheet <span class="property-type">string</span></dt>
      <dd> The target sheet name.  (optional data)</dd>
    </dl>

    <dl class="message-properties">
      <dt class="optional">limit <span class="property-type">number</span></dt>
      <dd> Maximum number of rows to be returned.  (optional data)</dd>
    </dl>

    <dl class="message-properties">
      <dt class="optional">offset <span class="property-type">number</span></dt>
      <dd> Index of row from which response should start (default is 0).  (optional data)</dd>
    </dl>

  <h3>Outputs</h3>
    <dl class="message-properties">
      <dt>payload
          <span class="property-type">array</span>
      </dt>
      <dd> The data retrieved from the Stein search API.</dd>
    </dl>

  <h3>References</h3>
    <ul>
        <li><a href="https://docs.steinhq.com/search-data" target="_blank">Search for Data</a> - Stein Docs</li>
    </ul>
</script>

<script type="text/javascript">
  RED.nodes.registerType('stein-addrows', {
    category: 'function',
    color: '#E9967A',
    defaults: {
      name: { value: "" },
      sheet: { value: "" },
      apiurl: { value: "", type: "stein-config" }
    },
    inputs: 1,
    outputs: 1,
    icon: "font-awesome/fa-table",
    label: function () {
      return this.name || "stein addrows";
    }
  });
</script>

<script type="text/x-red" data-template-name="stein-addrows">

  <div class="form-row">
    <label for="node-input-apiurl"><i class="icon-tag"></i> API URL</label>
    <input type="text" id="node-input-apiurl">
  </div>

  <div class="form-row">
    <label for="node-input-sheet"><i class="icon-tag"></i> Sheet Name</label>
    <input type="text" id="node-input-sheet" placeholder="Sheet">
  </div>
  
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
  </script>

<script type="text/x-red" data-help-name="stein-addrows">
  <p>Add Rows to Sheet</p>

  <h3>Inputs</h3>
    <dl class="message-properties">
      <dt>payload <span class="property-type">array</span></dt>
      <dd> The array of objects representing your rows.</dd>
    </dl>
    
    <dl class="message-properties">
      <dt class="optional">sheet <span class="property-type">string</span></dt>
      <dd> The target sheet name.  (optional data)</dd>
    </dl>

  <h3>Outputs</h3>
    <dl class="message-properties">
      <dt>payload
          <span class="property-type">object</span>
      </dt>
      <dd>The updated range of your sheet is returned.</dd>
    </dl>

  <h3>References</h3>
    <ul>
        <li><a href="https://docs.steinhq.com/add-rows" target="_blank">Add Rows to Sheet</a> - Stein Docs</li>
    </ul>
</script>

<script type="text/javascript">
  RED.nodes.registerType('stein-updaterows', {
    category: 'function',
    color: '#E9967A',
    defaults: {
      name: { value: "" },
      sheet: { value: "" },
      apiurl: { value: "", type: "stein-config" }
    },
    inputs: 1,
    outputs: 1,
    icon: "font-awesome/fa-pencil",
    label: function () {
      return this.name || "stein updaterows";
    }
  });
</script>

<script type="text/x-red" data-template-name="stein-updaterows">

  <div class="form-row">
    <label for="node-input-apiurl"><i class="icon-tag"></i> API URL</label>
    <input type="text" id="node-input-apiurl">
  </div>

  <div class="form-row">
    <label for="node-input-sheet"><i class="icon-tag"></i> Sheet Name</label>
    <input type="text" id="node-input-sheet" placeholder="Sheet">
  </div>
  
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
  </script>

<script type="text/x-red" data-help-name="stein-updaterows">
  <p>Update Rows</p>

  <h3>Inputs</h3>
    <dl class="message-properties">
      <dt>payload.condition <span class="property-type">object</span></dt>
      <dd> The value of the condition property is used to search for matching rows in the sheet.</dd>
    </dl>

    <dl class="message-properties">
      <dt>payload.set <span class="property-type">object</span></dt>
      <dd>If <code>payload.condition</code> data matched, the data updated matching rows.</dd>
    </dl>
    
    <dl class="message-properties">
      <dt class="optional">sheet <span class="property-type">string</span></dt>
      <dd> The target sheet name.  (optional data)</dd>
    </dl>

  <h3>Outputs</h3>
    <dl class="message-properties">
      <dt>payload
          <span class="property-type">object</span>
      </dt>
      <dd>The updated range of your sheet is returned.</dd>
    </dl>

  <h3>References</h3>
    <ul>
        <li><a href="https://docs.steinhq.com/update-rows" target="_blank">Update Rows</a> - Stein Docs</li>
    </ul>
</script>